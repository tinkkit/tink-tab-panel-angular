/*! tink-tab-panel-angular v1.0.0 */
"use strict";!function(module){try{module=angular.module("tink.tabpanel")}catch(e){module=angular.module("tink.tabpanel",[])}module.directive("tinkTab",["$timeout",function($timeout){return{restrict:"EA",replace:!0,require:"^tinkTabPanel",link:function(scope,element,attr,req){scope.active=function(){element.addClass("active")},scope.unactive=function(){element.removeClass("active")},element.on("click",function(){scope.$apply(function(){req.setActiveTab({name:attr.tinkTab,elem:element,scope:scope,temp:attr.tinkTabTemplate})})}),req.registerTab({name:attr.tinkTab,elem:element,scope:scope,temp:attr.tinkTabTemplate})}}}])}(),function(module){try{module=angular.module("tink.tabpanel")}catch(e){module=angular.module("tink.tabpanel",[])}module.directive("tinkTabPanel",["$sce",function($sce){return{restrict:"EA",replace:!0,controller:"TabPanelController",link:function(scope,elem,attr,ctrl){}}}]).controller("TabPanelController",function($attrs,$location,$timeout,$sce,$templateRequest,tinkTab){var ctrl=this,tabs=[],activeTab=void 0,notLoaded=void 0;ctrl.setActiveTab=function(tab){setActive(tab)},ctrl.setTabName=function(tabName){var found=!1;angular.forEach(tabs,function(tab){tabName===tab.name&&(found=!0,setActive(tab))}),found||(notLoaded=tabName)},ctrl.registerTab=function(tab){tabs.push(tab);var selected=$location.search().tab;selected===tab.name&&(setActive(tab),notLoaded=void 0),notLoaded&&ctrl.setTabName(notLoaded)};var setActive=function(tab){activeTab&&activeTab.scope.unactive(),$location.search("tab",tab.name),setContent(tab.temp),tab.scope.active(),activeTab=tab,notLoaded=void 0},setContent=function(content){$timeout(function(){if($attrs.tinkTabPanel){var panel=$("[tink-tab-panel-content='"+$attrs.tinkTabPanel+"']"),changeContent=panel.scope().changeContent;if(changeContent){var templateUrl=$sce.getTrustedResourceUrl(content);$templateRequest(templateUrl).then(function(template){changeContent(template)},function(e){console.error("Template error!",e)})}}},0)};$attrs.tinkTabPanel&&tinkTab.addPanel({name:$attrs.tinkTabPanel,ctrl:this})})}(),function(module){try{module=angular.module("tink.tabpanel")}catch(e){module=angular.module("tink.tabpanel",[])}module.directive("tinkTabPanelContent",["$sce","$compile",function($sce,$compile){return{restrict:"EA",replace:!1,compile:function(tElement,tAttrs,transclude){return{pre:function(scope,iElement,iAttrs,controller){},post:function(scope,iElement,iAttrs,controller){scope.changeContent=function(content){iElement.html(content),$compile(iElement)(scope),console.log(scope)}}}}}}])}(),function(module){try{module=angular.module("tink.tabpanel")}catch(e){module=angular.module("tink.tabpanel",[])}module.factory("tinkTab",["$timeout",function($timeout){var notLoaded=void 0,activePanels=[],_addPanel=function(panel){activePanels[panel.name]=panel,notLoaded&&panel.name===notLoaded.panel&&_setTabActive(notLoaded.panel,notLoaded.tab)},_removePanel=function(panel){delete activePanels[panel.name]},_setTabActive=function(panel,tab){activePanels[panel]?(panel=activePanels[panel],panel.ctrl.setTabName(tab),notLoaded=void 0):notLoaded={panel:panel,tab:tab}};return{addPanel:_addPanel,removePanel:_removePanel,setTabActive:_setTabActive}}])}();
//# sourceMappingURL=tink-tab-panel-angular.min.map